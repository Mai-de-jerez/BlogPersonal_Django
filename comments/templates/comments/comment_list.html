{% extends "core/base.html" %}
{% load static %}

{% block title %}Comentarios{% endblock %}

{% block content %}
<div class="comments-wrapper">
    <div id="comments" class="inner">
        <div class="comments-inner">
            {% if parent_comment %}
                <h3 id="respond-title">Todas las respuestas a:</h3><br>
                {% include "comments/includes/comment_parent.html" %}
            {% else %}
                <h3 id="respond-title">Todos los comentarios</h3><br>
            {% endif %}
        </div>&nbsp;&nbsp;
        <aside class="comments">
            <ul class="commentlist">
                {% for comment in comments %} 
                    {% include "comments/includes/comment_item.html" with comment=comment %}
                {% empty %}
                    <p>No hay comentarios a√∫n.</p>
                {% endfor %}
            </ul>
        </aside>
    </div>
</div>
<br>
<div class="custom-pagination mt-4 mb-4">
    <ul>
        {% if page_obj.has_previous %}
            <li class="prev">
                <a href="{% url 'posts:comment_list' slug=view.kwargs.slug %}?page={{ page_obj.previous_page_number }}">&laquo; Anterior</a>
            </li>
        {% else %}
            <li class="prev disabled">
                <a href="#">&laquo; Anterior</a>
            </li>
        {% endif %}

        {% for i in page_obj.paginator.page_range %}
            {% if page_obj.number == i %}
                <li class="active">
                    <a href="#">{{ i }}</a>
                </li>
            {% else %}
                <li>
                    <a href="{% url 'posts:comment_list' slug=view.kwargs.slug %}?page={{ i }}">{{ i }}</a>
                </li>
            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <li class="next">
                <a href="{% url 'posts:comment_list' slug=view.kwargs.slug %}?page={{ page_obj.next_page_number }}">Siguiente &raquo;</a>
            </li>
        {% else %}
            <li class="next disabled">
                <a href="#">Siguiente &raquo;</a>
            </li>
        {% endif %}
    </ul>
</div>
{% endblock %}
{% block extra_js %}
<script src="{% static 'core/js/comments.js' %}"></script>
{% endblock %}